import{_ as C}from"./nuxt-link.7185a162.js";import{_ as N,a as M}from"./SectionMain.d4578193.js";import{_ as B}from"./CardBox.6b3f7427.js";import{r as p,h as j,j as L,q as S,w as o,f as V,o as n,b as s,d as h,a as t,k as f,c as _,l as T,s as $,F as A,t as l}from"./entry.8c7ce858.js";import"./mdi.70a351a6.js";import"./colors.7637652d.js";import"./BaseButton.214b4472.js";import"./config.edcd5bec.js";import"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const F={class:"flex justify-start mt-2 mb-2"},q={class:"flex gap-3"},D={class:"relative"},E=t("div",{class:"absolute top-0 left-0 inline-flex items-center p-2"},[t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M11 4C7.13401 4 4 7.13401 4 11C4 14.866 7.13401 18 11 18C14.866 18 18 14.866 18 11C18 7.13401 14.866 4 11 4Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M21 21L16.65 16.65",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),I=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Npm"),t("th",null,"Nama"),t("th",null,"Kelas"),t("th",null,"Action")])],-1),K={key:0},W=t("td",{colspan:"6",class:"text-center"},[t("div",{class:"flex justify-center items-center"},[t("div",{class:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})])],-1),Y=[W],Z={"data-label":"no"},z={"data-label":"npm"},G={"data-label":"nama"},H={"data-label":"kelas",class:"uppercase"},J={class:"before:hidden lg:w-1 whitespace-nowrap"},O={class:"flex gap-3"},P=["onClick"],it={__name:"index",setup(Q){const r=p([]),i=p(!1),c=j(),m=async()=>{i.value=!1;const{data:e,error:d}=await c.from("mahasiswa").select().order("npm",{ascending:!0});r.value=e,i.value=!0},b=async e=>{confirm("Yakin ingin menghapus data?")?(await c.from("mahasiswa").delete().match({id:e}),m()):alert("data tidak jadi dihapus")},x=async e=>{const{data:d,error:u}=await c.from("mahasiswa").select().order("npm",{ascending:!0}).ilike("nama","%"+e.target.value+"%");r.value=d};return L(()=>{m()}),(e,d)=>{const u=C,g=N,w=B,k=M,y=V;return n(),S(y,{name:"authenticated"},{default:o(()=>[s(k,null,{default:o(()=>[s(g,{icon:e.mdiAccount,main:"",title:"Mahasiswa"},{default:o(()=>[s(u,{to:"/admin/mahasiswa/tambah",class:"rounded-full my-3 bg-slate-900 text-white font-semibold hover:bg-slate-950 py-2.5 px-3 md:text-lg text-md"},{default:o(()=>[h("Tambah")]),_:1})]),_:1},8,["icon"]),t("div",F,[t("div",q,[t("div",D,[t("input",{type:"text",onInput:x,class:"rounded-full border border-gray-300 focus:border-transparent focus:ring-2 focus:ring-gray-200 focus:outline-none text-sm text-gray-600 placeholder-gray-400 py-1 px-3 pl-10 block w-full appearance-none leading-normal ds-input",placeholder:"Search"},null,32),E])])]),s(w,{class:"mb-6","has-table":""},{default:o(()=>[t("table",null,[I,t("tbody",null,[f(i)?T("",!0):(n(),_("tr",K,Y)),(n(!0),_(A,null,$(f(r),(a,v)=>(n(),_("tr",{key:a.id},[t("td",Z,l(v+1),1),t("td",z,l(a.npm),1),t("td",G,l(a.nama),1),t("td",H,l(a.kelas),1),t("td",J,[t("div",O,[s(u,{class:"py-1 px-1.5 rounded-md border",to:"/admin/mahasiswa/"+a.id},{default:o(()=>[h("detail")]),_:2},1032,["to"]),t("button",{onClick:R=>b(a.id),class:"py-1 px-2 rounded-md border border-rose-600 text-rose-600"},"delete",8,P)])])]))),128))])])]),_:1})]),_:1})]),_:1})}}};export{it as default};
