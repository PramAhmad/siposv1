import{r,h as x,q as w,w as i,f as V,o as B,b as a,k as u,l as N,a as t,m as d,H as M,I as D,n as S,v as T}from"./entry.8c7ce858.js";import{l as C,j as G}from"./mdi.70a351a6.js";import{_ as U,a as $}from"./SectionMain.d4578193.js";import{_ as j}from"./CardBox.6b3f7427.js";import{_ as h,a as b}from"./FormControl.06cdc0db.js";import{_ as F}from"./BaseButton.214b4472.js";import{_ as O}from"./BaseButtons.1a714a7d.js";import{F as z}from"./FotoMahasiswa.f6c907e3.js";import"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";import"./colors.7637652d.js";import"./config.edcd5bec.js";import"./main.ad903eef.js";import"./BlobServiceClient.faa98db4.js";import"./__vite-browser-external.7d645feb.js";const A=["onSubmit"],E=t("option",{value:"a"},"A",-1),J=t("option",{value:"b"},"B",-1),L=t("option",{value:"c"},"C",-1),P=[E,J,L],R=t("button",{type:"submit",class:"py-2 px-5 bg-sky-600 rounded-md text-white hover:bg-sky-500"},"Tambah",-1),ie={__name:"tambah",setup(W){const f=r(),m=r(""),s=r(""),n=r(""),l=r(""),_=r(!1),v=x(),k=async p=>{const e="https://discord.com/api/webhooks/1152545570272059478/Q6imkAWcj5LQo0j0s19kmyvlCx4B_SvcJc1oaiOGq9zNrGtEdGzuyX1J22MdF2VS0t1_",c={content:p};try{(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok?console.log("Pesan berhasil dikirim ke Discord"):console.error("Gagal mengirim pesan ke Discord")}catch(o){console.error("Gagal mengirim pesan ke Discord:",o)}},y=async()=>{_.value=!1;const{data:p,error:e}=await v.from("mahasiswa").insert({nama:s.value,npm:n.value,kelas:l.value,foto:m.value});if(_.value=!0,e)console.log(e);else{const c=`Data mahasiswa baru ditambahkan:
Nama: ${s.value}
NPM: ${n.value}
Kelas: ${l.value}
Foto: ${m.value}`;k(c),T("/admin/mahasiswa")}},g=async()=>{s.value="",n.value="",l.value="",f.value=""};return(p,e)=>{const c=V;return B(),w(c,{name:"authenticated"},{default:i(()=>[a($,null,{default:i(()=>[a(U,{icon:u(C),title:"Tambah Mahasiswa",main:""},null,8,["icon"]),N("",!0),a(j,null,{default:i(()=>[t("form",{onSubmit:S(y,["prevent"])},[a(h,{label:"Nama dan Kelas"},{default:i(()=>[a(b,{modelValue:u(s),"onUpdate:modelValue":e[0]||(e[0]=o=>d(s)?s.value=o:null),placeholder:"Your Name",icon:u(G)},null,8,["modelValue","icon"]),M(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>d(l)?l.value=o:null),class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-600 dark:border-gray-600 dark:placeholder-gray-400 p-2"},P,512),[[D,u(l)]])]),_:1}),a(h,{label:"With help line",help:"Do not enter the leading zero"},{default:i(()=>[a(b,{modelValue:u(n),"onUpdate:modelValue":e[2]||(e[2]=o=>d(n)?n.value=o:null),type:"tel",placeholder:"Your npm number"},null,8,["modelValue"])]),_:1}),a(z,{path:u(m),"onUpdate:path":e[3]||(e[3]=o=>d(m)?m.value=o:null)},null,8,["path"]),t("div",null,[a(O,null,{default:i(()=>[R,a(F,{onClick:g,color:"info",outline:"",label:"Reset"})]),_:1})])],40,A)]),_:1})]),_:1})]),_:1})}}};export{ie as default};
