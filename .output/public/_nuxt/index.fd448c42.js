import{_ as v,a as N}from"./SectionMain.d4578193.js";import{_ as B}from"./nuxt-link.7185a162.js";import{_ as C}from"./CardBox.6b3f7427.js";import{h as M,r as i,j as L,q as S,w as s,f as V,o as l,b as c,a as t,k as b,c as _,l as q,s as A,F,t as d,d as $}from"./entry.8c7ce858.js";import"./mdi.70a351a6.js";import"./colors.7637652d.js";import"./BaseButton.214b4472.js";import"./config.edcd5bec.js";import"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const j=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Dari"),t("th",null,"Pesan"),t("th",null,"Action")])],-1),D={key:0},T=t("td",{colspan:"6",class:"text-center"},[t("div",{class:"flex justify-center items-center"},[t("div",{class:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})])],-1),E=[T],P={"data-label":"no"},W={"data-label":"npm"},z={"data-label":"nama"},G={class:"before:hidden lg:w-1 whitespace-nowrap"},H={class:"flex gap-3"},I=["onClick"],nt={__name:"index",setup(J){const u=M(),m=i([]),r=i(!1),p=i(!1),f=async()=>{r.value=!1;const{data:e,error:n}=await u.from("masukan").select().eq("is_delete",0);n?console.log(n):(m.value=e,r.value=!0)},k=async e=>{if(p.value=!1,window.confirm("Are you sure?")){const{data:h,error:a}=await u.from("masukan").update({is_delete:1}).eq("id",e);a?console.log(a):(p.value=!0,f())}};return L(()=>{f()}),(e,n)=>{const h=v,a=B,x=C,y=N,w=V;return l(),S(w,{name:"authenticated"},{default:s(()=>[c(y,null,{default:s(()=>[c(h,{icon:e.mdiAccount,main:"",title:"Masukan Form"},null,8,["icon"]),c(x,{class:"mb-6","has-table":""},{default:s(()=>[t("table",null,[j,t("tbody",null,[b(r)?q("",!0):(l(),_("tr",D,E)),(l(!0),_(F,null,A(b(m),(o,g)=>(l(),_("tr",{key:o.id},[t("td",P,d(g+1),1),t("td",W,d(o.nama),1),t("td",z,d(o.desc),1),t("td",G,[t("div",H,[c(a,{class:"py-1 px-1.5 rounded-md border",to:"/admin/masukan/"+o.id},{default:s(()=>[$("detail")]),_:2},1032,["to"]),t("button",{onClick:K=>k(o.id)},"delete",8,I)])])]))),128))])])]),_:1})]),_:1})]),_:1})}}};export{nt as default};
