"use strict";const r=require("vue"),v=["childRow","column-sizing","column-visibility","destroy","draw","error","init","length","order","page","preDraw","preInit","preXhr","processing","requestChild","search","stateLoadParams","stateLoaded","stateSaveParams","xhr","autoFill","preAutoFill","buttons-action","buttons-processing","column-reorder","key","key-blur","key-focus","key-refocus","key-return-submit","responsive-display","responsive-resize","rowgroup-datasrc","pre-row-reorder","row-reorder","row-reordered","dtsb-inserted","deselect","select","select-blur","selectItems","selectStyle","user-select","stateRestore-change"];let c;const g={name:"Datatables.netVue",inheritAttrs:!1,use(o){c=o}},h=r.defineComponent({...g,props:{ajax:null,columns:null,data:null,options:null},emits:v,setup(o,{expose:d}){const s=o,f=r.ref(null),a=r.ref(),b=r.ref([]);r.watch(()=>s.data,e=>{var l,n,u,m;let t=(l=a.value)==null?void 0:l.data().toArray();for(let i of e)t!=null&&t.includes(i)||(n=a.value)==null||n.row.add(i);if(typeof t<"u")for(let i of t)e.includes(i)||(u=a.value)==null||u.row((k,y)=>y===i).remove();(m=a.value)==null||m.rows().invalidate().draw(!1),p(e)},{deep:!0}),r.onMounted(()=>{const e=r.getCurrentInstance();let t=s.options||{};if(s.data&&(t.data=s.data,p(t.data)),s.columns&&(t.columns=s.columns),s.ajax&&(t.ajax=s.ajax),!c)throw new Error("DataTables library not set. See https://datatables.net/tn/19 for details.");a.value=new c(r.unref(f),t);for(let l of v)a.value&&e&&a.value.on(l,function(){var n=Array.from(arguments),u=n.shift();n.unshift({event:u,dt:a}),n.unshift(l),e.emit.apply(e,n)})}),r.onBeforeUnmount(()=>{var e;(e=a.value)==null||e.destroy(!0)});function p(e){b.value=e.value?e.value.slice():e.slice()}return d({dt:a}),(e,t)=>t[0]||(r.setBlockTracking(-1),t[0]=r.createElementVNode("div",{class:"datatable"},[r.createElementVNode("table",r.mergeProps({ref_key:"table",ref:f},e.$attrs,{style:{width:"100%"}}),[r.renderSlot(e.$slots,"default")],16)]),r.setBlockTracking(1),t[0])}}),w=(()=>{const o=h;return o.install=d=>{d.component("Datatables.netVue",o)},o})();module.exports=w;
